# 第三章：有限自动机与右线性文法
该文档围绕有限自动机和右线性文法展开，主要介绍了有限自动机相关概念、分类及与右线性文法的关系，是计算机科学领域基础且重要的知识。

1. **复习语言与文法**
    - **文法定义**：文法\(G=(N,T,P,S)\)，其中\(P\)中的产生式\(\alpha \to \beta\)，\(\alpha \in(N \cup T)^{*}N^{+}(N \cup T)^{*}\)，\(\beta \in(N \cup T)^{*}\) 。
    - **语言产生**：文法产生的语言\(L(G)=\{\omega | \omega \in T^{*}且S \underset{G}{\stackrel{*}{\Rightarrow}} \omega\}\)。
    - **Chomsky文法体系分类**：包括0型（无限制文法，对应图灵机）、1型（上下文有关文法，对应线性有界自动机，生成式\(\vert\alpha\vert\leq\vert\beta\vert\) ）、2型（上下文无关文法，对应下推自动机，\(A \to \alpha\)，\(A \in N\)，\(\alpha \in(N \cup T)^{*}\) ）、3型（正则文法/线性文法，对应有限自动机，分右线性和左线性文法 ）。
2. **有限自动机**
    - **有限状态系统概念**：状态是事物区分标识，有限状态系统是离散状态且状态数有限的系统，如数字电路、十字路口红绿灯；与之相对的连续状态系统如水库水位、室内温度。
    - **有限自动机概念**：是离散输入输出系统的数学模型，可无输出或输入，由状态和输入决定状态转移，分为DFA（后继状态唯一）和NFA（后继状态不唯一） 。
    - **DFA的形式定义**：DFA是五元组\(M=(Q,T,\delta,q_{0},F)\)，包括有限状态集\(Q\)、有限输入字母表\(T\)、转换函数\(\delta: Q×T \to Q\) 、初始状态\(q_{0}\) 、终止状态集\(F\) 。其可通过转移图和转移表表示，还有扩展转移函数\(\delta': Q × T^{*} \to Q\) ，\(DFA\)接受的语言\(L(M)=\{w | \delta'(q_{0}, w) \in F\}\) 。
    - **格局**：用于描述有限自动机工作状态，格局\((q,w)\)由当前状态\(q\)和待输入字符串\(w\)组成，初始格局\((q_{0},w)\)，终止格局\((q,\varepsilon)\)（\(q\in F\) ）。
3. **不确定的有限自动机（NFA）**
    - **NFA的形式定义**：NFA是五元组\(M=(Q,T,\delta,q_{0},F)\)，\(\delta\)是\(Q×T \to 2^{Q}\)的函数。接收字符串后，若进入的状态集包含\(F\)中的状态，则接收该字符串。
    - **NFA的状态转移函数**：\(\delta: Q×T \to 2^{Q}\) ，扩展转移函数\(\delta': Q × T^{*} \to 2^{Q}\) ，\(\delta'(q,\omega a)\)是\(\delta'(q,\omega)\)中各状态接收字符\(a\)后可能到达状态集合的并集。
    - **NFA接受的语言**：\(L(A)=\{w | \delta'(q_{0}, w) \cap F \neq \varnothing\}\) 。
4. **NFA与DFA的等价性**：DFA是NFA的特例，证明等价性即证NFA接收的语言能被DFA接收。可通过子集构造法，对任意NFA构造等价DFA，该DFA状态对应NFA的状态集合 。实践中，构造的DFA状态数与原NFA大体相当，最坏情况接近NFA所有子集数目。
5. **课堂练习与作业**：课堂练习要求给出自动机定义、状态转移表、识别字符串过程及所识别语言，还包括构造特定语言的DFA和由NFA构造等价DFA 。作业则进一步要求找出接受特定语言的DFA以及构造等效于给定NFA的DFA。

## 有限自动机
该节内容主要介绍了有限自动机的相关概念，包括有限状态系统、有限自动机的定义、DFA（确定有限自动机）、扩展转移函数、DFA接受的语言、格局以及设计有限自动机的方法，具体如下：

1. **有限状态系统概念**：状态是区分事物的标识。离散状态系统的状态数有限，如数字电路、十字路口红绿灯；连续状态系统的状态有无穷个，如水库水位、室内温度。有限状态系统属于离散状态系统且状态数有限。还列举了过河问题和购物流程的实例，说明可对其进行自动机建模。
2. **有限自动机概念**：是离散输入输出系统的数学模型，可无输入或输出，具有有限个状态，通过状态和输入实现状态转移。根据后继状态是否唯一，分为DFA（唯一）和NFA（不唯一）。其模型类似控制器，包含有限状态，从左到右读取字符，依据当前状态和输入字符进行状态迁移，由有限状态集、有限输入符号集、转移函数、一个开始状态和一个终态集合这五要素构成。
3. **DFA（Deterministic Finite Automaton）的形式定义**：DFA是五元组\(M=(Q,T,\delta,q_{0},F)\)，其中\(Q\)是有限状态集合，\(T\)是有限输入字母表，\(\delta\)是从\(Q×T\)到\(Q\)的转换函数，\(q_{0}\)是初始状态，\(F\)是终止状态集且\(F\subseteq Q\)。可以用转移图和转移表来表示DFA。
4. **扩展转移函数**：\(\delta'\)函数用于接收字符串的状态转移，\(\delta': Q × T^{*} \to Q\)。对于任意\(q \in Q\)，\(\delta'(q, \varepsilon)=q\)；若\(w\)是字符串，\(a\)是字符，则\(\delta'(q, wa)=\delta(\delta'(q, w), a)\) ，并通过举例说明了该函数的计算过程。
5. **DFA（Nondeterministic Finite Automaton）接受的语言**：被DFA接收的字符串，是指输入结束后能使DFA状态到达终止状态的字符串，所有这些字符串构成的集合就是DFA接受的语言，记为\(L(M)=\{w | \delta'(q_{0}, w) \in F\}\) ，并给出了接收含有奇数个0的字符串的示例。
6. **格局**：格局用于描述有限自动机的工作状态，由当前状态\(q\)和待输入字符串\(w\)组成，记为\((q,w)\)。初始格局为\((q_{0},w)\) ，终止格局为\((q,\varepsilon)\)（\(q\in F\)）。以接受\(001010\)的格局变化为例，展示了自动机的工作过程，并指出格局数量是无限的，有限状态自动机无记忆。
7. **课堂练习与设计有限自动机**：课堂练习包括给出自动机定义、状态转移表、用格局描述识别字符串过程以及描述自动机所识别的语言。设计有限自动机是一个创造性过程，可假设自己是机器，思考记住关键信息来判断字符串是否符合语言规则，如构造识别奇数个\(a\)和奇数个\(b\)组成的字符串、包含连续\(3\)个\(0\)子串的字符串、代表数字能整除\(3\)的字符串的自动机。 

## 不确定的有限自动机(NFA)
该节内容主要围绕非确定有限自动机（NFA）展开，涵盖其表示形式、状态转移函数、接受的语言以及相关示例，具体如下：
1. **NFA的表示形式**：通过转移图和转移表来表示NFA，转移表中的每一项都是一个集合，可能包含空集$\Phi$ 。如给出的示例中，展示了从状态$p$、$q$、$r$在输入$0$或$1$时的转移情况，状态转移的目标是一个集合，体现了NFA在某个状态对应一个输入可以有多个转移的特点。
2. **NFA的状态转移函数**
    - **与DFA的区别**：NFA的状态转移函数$\delta$是$Q×T→2^Q$的函数，这与DFA不同，DFA的转移函数是$Q×T→Q$ ，即DFA每个状态对于一个输入只有一个确定的转移状态，而NFA可以有多个转移状态。
    - **扩展转移函数**：$\delta$可扩展为$\delta': Q×T^*→2^Q$ 。规定$\delta'(q, \varepsilon)= \{q\}$，表示不允许无输入的状态变化；$\delta'(q, \omega a)= \{p |存在r∈\delta'(q, \omega )∧p ∈\delta (r,a)\}$，意味着$\delta'(q, \omega a)$对应的状态集合是$\delta'(q, \omega)$中每个状态接收字符$a$后可能到达的状态集合的并集。例如对于输入字符串$01$，从起始状态$p$出发，$\delta'(p, 0) = \{q\}$，$\delta'(p, 01)$就是$\delta(q, 1)$的结果，得到$\{q, r\}$ 。
3. **NFA接受的语言**：对于NFA $A = (Q, T, \delta, q_0, F)$，其接受的语言$L(A) = \{ w | \delta'(q_0, w) ∩ F ≠ \varnothing\}$，即当NFA接收一个字符串$w$后进入的状态集中包含终态集合$F$中的状态时，该字符串$w$被NFA接受。
4. **示例**：构造一个NFA用于识别$\{0,1\}$上的语言$L=\{x000y | x,y∈\{0,1\}^*\}$ ，该语言要求字符串包含连续的$000$子串，通过NFA的状态转移设计来实现对这类字符串的识别 。 

## NFA与DFA的等价性
该节内容主要证明了非确定有限自动机（NFA）与确定有限自动机（DFA）的等价性，并介绍了从NFA构造等价DFA的子集构造法，以及构造后DFA的状态数情况。

1. **NFA与DFA的等价性证明**
    - **等价性原理**：DFA是NFA的特例，所以只需证明NFA所能接收的语言必能被另一个DFA接收，就能证明两者的等价性。存在定理表明，若一个NFA接受语言L，那么必然存在一个DFA接受L。
    - **证明策略**：对于任意一个NFA，构造一个接收其所能接收语言的DFA，该DFA的状态对应NFA的状态集合。
2. **从NFA构造等价的DFA（子集构造法）**
    - **构造方法**：设NFA为$M_N = (Q, T, \delta, q_0, F)$，构造的DFA为$M_D = (Q_D, T, \delta_D, [q_0], F_D)$。其中，$Q_D = 2^Q$，即$Q_D$的元素是$Q$的子集；对于$[q_1,q_2,\ldots,q_n] \in Q_D$和$a \in T$，$\delta_D([q_1,q_2,\ldots,q_n], a ) = [p_1,p_2,\ldots,p_m]$当且仅当$\delta ( \{q_1,q_2,\ldots,q_n\}, a ) = { p_1,p_2,\ldots,p_m}$；$F_D \subseteq Q_D$，且$F_D$的每个状态包含$F$中的一个状态。
    - **举例说明**：通过具体的NFA，展示了使用子集构造法计算状态可达情况，以及如何得到经筛选后的DFA，直观呈现了从NFA到DFA的构造过程。
3. **证明从NFA构造等价的DFA**：采用归纳法，对字符串$w$的长度$|w|$进行归纳证明。当$|w| = 0$，即$w = \varepsilon$时，验证了$\delta_D'([q_0], \varepsilon) = [q_0]$，$\delta'(q_0, \varepsilon) = \{q_0\}$；当$|w| = n + 1$，且$w = xa$（$a \in T$，$|x| = n$）时，在假设$\delta_D'([q_0], x) = [p_1, p_2, \ldots, p_k]$当且仅当$\delta'(q_0, x) = \{ p_1, p_2, \ldots, p_k\}$的基础上，证明了$\delta_D'([q_0], w) = \delta_D(\delta_D'([q_0], x), a)= [r_1,r_2, \ldots, r_k]$当且仅当$\delta'(q_0, w) = \{ r_1,r_2, \ldots, r_k\}$。
4. **子集构造法得到的状态数**：实践中，通过子集构造法得到的DFA的状态数目与原NFA的状态数目大体相当。在较坏的情况下，DFA的状态数目接近于所有子集的数目，如由特定NFA构造的DFA的状态数目至少为$2^n$ 。 

## 有ε转换的NFA
该PDF围绕有ε转换的NFA、正则集和正则式展开，介绍相关定义、运算、性质及相互转换，还给出了练习题，是学习有限自动机和正则表达式的重要资料。

1. **有ε转换的NFA**
    - **定义**：是一个五元组\(A = (Q, T, \delta, q_0, F)\)，与NFA不同之处在于转移函数\(\delta: Q \times(T \cup{\varepsilon}) \to 2^{Q}\) ，输入空串时也能引发状态转移。
    - **关键概念**：ε - 闭包指从状态\(q\)经所有ε路径可达的状态集合，状态子集\(I\)的ε - 闭包是各状态ε - 闭包的并集；\(I_a\)是从状态子集\(I\)经标\(a\)的边到达的状态集合的ε - 闭包；扩展转移函数\(\delta'\)考虑了包括ε转换在内的路径。
    - **语言定义与设计**：语言\(L(M)=\{\omega | \delta'(q_0, \omega) \cap F \neq \phi\}\) ，可设计ε - NFA识别特定语言，如{ \(0^{k}| k\)是2或3的倍数}等。
    - **等价证明与转换**：有ε转换的NFA和无ε转换的NFA等价，可构造无ε转换的NFA \(M_1\) ，证明其接受语言与原ε - NFA相同，同时给出了转换方法。
2. **正则集和正则式**
    - **基础定义**：正则集是字母表上特殊形式字符串的集合，由正则式表示；正则式通过归纳定义，包括基础的原子正则式和归纳的联合、连接、闭包运算。
    - **运算规则**：联合运算\(L \cup M=\{w | w \in L \vee w \in M\}\) ，连接运算\(L \cdot M=\{w_1w_2 | w_1 \in L \land w_2 \in M\}\) ，闭包运算\(L^{*}=\{w^{n} | w \in L \land n \geq 0\}\)  ，算符优先级为闭包＞连接＞联合。
    - **表达式举例**：不同正则表达式可表示特定语言，如\((0 + 1)^{*}00(0 + 1)^{*}\)表示至少含两个连续0的0、1字符串集合。
    - **性质与等价**：正则式具有交换律、结合律等多种性质；若两个正则式表示相同正则集则相等。
    - **与右线性文法关系**：右线性文法与正则式等效，可从右线性文法导出正则式，通过特定规则求解联立方程得到。 
3. **练习与作业**：包含课堂练习和课后作业，如将ε - NFA转换为DFA、从右线性文法找正则式等，用于巩固知识。 